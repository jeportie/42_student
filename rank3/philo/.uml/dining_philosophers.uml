
                    ┌────────────┐          ┌────────────┐          ┌────────────┐          ┌────────────┐          ┌────────────┐          ┌─────┐          ┌─────┐          ┌─────┐          ┌─────┐          ┌─────┐
                    │Philosopher1│          │Philosopher2│          │Philosopher3│          │Philosopher4│          │Philosopher5│          │Fork1│          │Fork2│          │Fork3│          │Fork4│          │Fork5│
                    └─────┬──────┘          └─────┬──────┘          └─────┬──────┘          └─────┬──────┘          └─────┬──────┘          └──┬──┘          └──┬──┘          └──┬──┘          └──┬──┘          └──┬──┘
                          │                       │                       │                       │                       │                    │                │                │                │                │
                          │       ╔══════╤════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪════════════════════╪════════════════╪════════════════╪════════════════╪════════════╗   │
                          │       ║ ALT  │  Even Philosopher Picks        │                       │                       │                    │                │                │                │            ║   │
                          │       ╟──────┘        │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       Pick left fork          │                    │                │                │                │            ║   │
                          │       ║               │ ───────────────────────────────────────────────────────────────────────────────────────────────────────────>│                │                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │              Pick right fork                  │                    │                │                │                │            ║   │
                          │       ║               │ ──────────────────────────────────────────────────────────────────────────────────────────>│                │                │                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │────┐                  │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │    │ Eat              │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │<───┘                  │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │             Release right fork                │                    │                │                │                │            ║   │
                          │       ║               │ ──────────────────────────────────────────────────────────────────────────────────────────>│                │                │                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                      Release left fork        │                    │                │                │                │            ║   │
                          │       ║               │ ───────────────────────────────────────────────────────────────────────────────────────────────────────────>│                │                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │                       │                Pick left fork       │                │                │            ║   │
                          │       ║               │                       │                       │ ─────────────────────────────────────────────────────────────────────────────────────────────>│            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │                       │       Pick right fork               │                │                │            ║   │
                          │       ║               │                       │                       │ ────────────────────────────────────────────────────────────────────────────>│                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │────┐                  │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │    │ Eat              │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │<───┘                  │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │                       │      Release right fork             │                │                │            ║   │
                          │       ║               │                       │                       │ ────────────────────────────────────────────────────────────────────────────>│                │            ║   │
                          │       ║               │                       │                       │                       │                    │                │                │                │            ║   │
                          │       ║               │                       │                       │                       │               Release left fork     │                │                │            ║   │
                          │       ║               │                       │                       │ ─────────────────────────────────────────────────────────────────────────────────────────────>│            ║   │
                          │       ╚═══════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪════════════════════╪════════════════╪════════════════╪════════════════╪════════════╝   │
                          │                       │                       │                       │                       │                    │                │                │                │                │
                          │                       │                       │                       │                       │                    │                │                │                │                │
          ╔══════╤════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪════════════════════╪════════════════╪════════════════╪════════════════╪════════════════╪════════════╗
          ║ ALT  │  Odd Philosopher Picks         │                       │                       │                       │                    │                │                │                │                │            ║
          ╟──────┘        │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │  Pick right fork      │                       │                    │                │                │                │                │            ║
          ║               │ ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │             Pick left fork                 │                │                │                │                │            ║
          ║               │ ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │────┐                  │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │    │ Eat              │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │<───┘                  │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │           Release left fork                │                │                │                │                │            ║
          ║               │ ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │ Release right fork    │                       │                    │                │                │                │                │            ║
          ║               │ ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────>│                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                   Pick right fork          │                │                │                │                │            ║
          ║               │                       │                       │ ────────────────────────────────────────────────────────────────────────────────────────────────────>│                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │           Pick left fork                   │                │                │                │                │            ║
          ║               │                       │                       │ ───────────────────────────────────────────────────────────────────────────────────>│                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │────┐                  │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │    │ Eat              │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │<───┘                  │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │          Release left fork                 │                │                │                │                │            ║
          ║               │                       │                       │ ───────────────────────────────────────────────────────────────────────────────────>│                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                  Release right fork        │                │                │                │                │            ║
          ║               │                       │                       │ ────────────────────────────────────────────────────────────────────────────────────────────────────>│                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                Pick left fork   │                │                │            ║
          ║               │                       │                       │                       │                       │ ──────────────────────────────────────────────────────────────────────────────────────>│            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │       Pick right fork           │                │                │            ║
          ║               │                       │                       │                       │                       │ ─────────────────────────────────────────────────────────────────────>│                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │────┐               │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │    │ Eat           │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │<───┘               │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │     Release right fork          │                │                │            ║
          ║               │                       │                       │                       │                       │ ─────────────────────────────────────────────────────────────────────>│                │            ║
          ║               │                       │                       │                       │                       │                    │                │                │                │                │            ║
          ║               │                       │                       │                       │                       │                    │              Release left fork  │                │                │            ║
          ║               │                       │                       │                       │                       │ ──────────────────────────────────────────────────────────────────────────────────────>│            ║
          ╚═══════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪════════════════════╪════════════════╪════════════════╪════════════════╪════════════════╪════════════╝
                          │                       │                       │                       │                       │                    │                │                │                │                │
                          │                       │                       │                       │                       │                    │                │                │                │                │
                          │       ╔══════╤════════╪═══════════════════════╪═══════════════════════╪════════════════╗      │                    │                │                │                │                │
                          │       ║ ALT  │  Even Philosopher Sleeps       │                       │                ║      │                    │                │                │                │                │
                          │       ╟──────┘        │                       │                       │                ║      │                    │                │                │                │                │
                          │       ║               │────┐                  │                       │                ║      │                    │                │                │                │                │
                          │       ║               │    │ Think            │                       │                ║      │                    │                │                │                │                │
                          │       ║               │<───┘                  │                       │                ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │                ║      │                    │                │                │                │                │
                          │       ║               │────┐                  │                       │                ║      │                    │                │                │                │                │
                          │       ║               │    │ Sleep            │                       │                ║      │                    │                │                │                │                │
                          │       ║               │<───┘                  │                       │                ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │                ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │────┐           ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │    │ Think     ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │<───┘           ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │                ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │────┐           ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │    │ Sleep     ║      │                    │                │                │                │                │
                          │       ║               │                       │                       │<───┘           ║      │                    │                │                │                │                │
                          │       ╚═══════════════╪═══════════════════════╪═══════════════════════╪════════════════╝      │                    │                │                │                │                │
                          │                       │                       │                       │                       │                    │                │                │                │                │
                          │                       │                       │                       │                       │                    │                │                │                │                │
          ╔══════╤════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪════════════════╗   │                │                │                │                │
          ║ ALT  │  Odd Philosopher Sleeps        │                       │                       │                       │                ║   │                │                │                │                │
          ╟──────┘        │                       │                       │                       │                       │                ║   │                │                │                │                │
          ║               │────┐                  │                       │                       │                       │                ║   │                │                │                │                │
          ║               │    │ Think            │                       │                       │                       │                ║   │                │                │                │                │
          ║               │<───┘                  │                       │                       │                       │                ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │                ║   │                │                │                │                │
          ║               │────┐                  │                       │                       │                       │                ║   │                │                │                │                │
          ║               │    │ Sleep            │                       │                       │                       │                ║   │                │                │                │                │
          ║               │<───┘                  │                       │                       │                       │                ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │                ║   │                │                │                │                │
          ║               │                       │                       │────┐                  │                       │                ║   │                │                │                │                │
          ║               │                       │                       │    │ Think            │                       │                ║   │                │                │                │                │
          ║               │                       │                       │<───┘                  │                       │                ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │                ║   │                │                │                │                │
          ║               │                       │                       │────┐                  │                       │                ║   │                │                │                │                │
          ║               │                       │                       │    │ Sleep            │                       │                ║   │                │                │                │                │
          ║               │                       │                       │<───┘                  │                       │                ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │                ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │────┐           ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │    │ Think     ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │<───┘           ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │                ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │────┐           ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │    │ Sleep     ║   │                │                │                │                │
          ║               │                       │                       │                       │                       │<───┘           ║   │                │                │                │                │
          ╚═══════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪═══════════════════════╪════════════════╝   │                │                │                │                │
                    ┌─────┴──────┐          ┌─────┴──────┐          ┌─────┴──────┐          ┌─────┴──────┐          ┌─────┴──────┐          ┌──┴──┐          ┌──┴──┐          ┌──┴──┐          ┌──┴──┐          ┌──┴──┐
                    │Philosopher1│          │Philosopher2│          │Philosopher3│          │Philosopher4│          │Philosopher5│          │Fork1│          │Fork2│          │Fork3│          │Fork4│          │Fork5│
                    └────────────┘          └────────────┘          └────────────┘          └────────────┘          └────────────┘          └─────┘          └─────┘          └─────┘          └─────┘          └─────┘

@startuml
participant Philosopher1 as P1
participant Philosopher2 as P2
participant Philosopher3 as P3
participant Philosopher4 as P4
participant Philosopher5 as P5
participant Fork1 as F1
participant Fork2 as F2
participant Fork3 as F3
participant Fork4 as F4
participant Fork5 as F5

alt Even Philosopher Picks
    P2 -> F2: Pick left fork
    P2 -> F1: Pick right fork
    P2 -> P2: Eat
    P2 -> F1: Release right fork
    P2 -> F2: Release left fork

    P4 -> F4: Pick left fork
    P4 -> F3: Pick right fork
    P4 -> P4: Eat
    P4 -> F3: Release right fork
    P4 -> F4: Release left fork
end

alt Odd Philosopher Picks
    P1 -> F1: Pick right fork
    P1 -> F5: Pick left fork
    P1 -> P1: Eat
    P1 -> F5: Release left fork
    P1 -> F1: Release right fork

    P3 -> F3: Pick right fork
    P3 -> F2: Pick left fork
    P3 -> P3: Eat
    P3 -> F2: Release left fork
    P3 -> F3: Release right fork

    P5 -> F5: Pick left fork
    P5 -> F4: Pick right fork
    P5 -> P5: Eat
    P5 -> F4: Release right fork
    P5 -> F5: Release left fork
end

alt Even Philosopher Sleeps
    P2 -> P2: Think
    P2 -> P2: Sleep

    P4 -> P4: Think
    P4 -> P4: Sleep
end

alt Odd Philosopher Sleeps
    P1 -> P1: Think
    P1 -> P1: Sleep

    P3 -> P3: Think
    P3 -> P3: Sleep

    P5 -> P5: Think
    P5 -> P5: Sleep
end

@enduml

